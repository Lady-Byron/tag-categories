{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,MAAM,EAA+BI,OAAOC,KAAKC,OAAO,a,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,kC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4C,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,2C,aCAxD,SAASC,EAAgBC,EAAGC,GAC1B,OAAOF,EAAkBZ,OAAOe,eAAiBf,OAAOe,eAAeC,OAAS,SAAUH,EAAGC,GAC3F,OAAOD,EAAEI,UAAYH,EAAGD,CAC1B,EAAGD,EAAgBC,EAAGC,EACxB,CCJA,MAAM,EAA+BL,OAAOC,KAAKC,OAAO,0B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,sC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,+B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,8B,aCoBnCO,EAAyB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,KCnB9C,IAAwBR,EAAGd,IDmBmBoB,GCnBtBN,EDmBsBK,GClB1CZ,UAAYN,OAAOsB,OAAOvB,EAAEO,WAAYO,EAAEP,UAAUiB,YAAcV,EAAGE,EAAeF,EAAGd,GDkB7C,IAAAyB,EAAAN,EAAAZ,UAmJ3C,OAnJ2CkB,EAC5CC,KAAA,SAAKC,GAEH,OAAAP,EAAAb,UAAamB,KAAIjB,KAAC,KAAAkB,EACpB,EAACF,EAEDG,QAAA,WAAU,IAAAC,EAAAC,EAAAC,EAAA,KAGR,GAAIC,KAAKC,QAAS,OAAOC,EAACC,IAAgB,MAM1C,IAAMC,EAAcJ,KAAKK,MAAMC,eAAiBN,KAAKK,MAAMC,iBAAoBN,KAAKO,MAA8B,GAC5GC,EAAYR,KAAKK,MAAMG,WAAc,kBAAM,CAAI,EAC/CC,EAAaL,EAAKM,OAAO,SAAC5B,GAAC,OAAK0B,EAAU1B,EAAE,GAI5C4B,EAAkBV,KAAKU,QAAUV,KAAKU,UAAa,GAEnDC,EAAmBD,EAErBD,EAAWC,OAAO,SAACE,GAEjB,QADgBA,EAAIC,QAAU,IAAE,KAAID,EAAIE,eAAiB,KAAKC,cAClDC,SAASN,EAAOK,cAC9B,GAJAN,EAOEQ,GAAmCC,IAAAA,MAAUC,UAAU,kBAA2C,IAAIC,QAG5GH,EAAWI,KAAK,SAACzD,EAAG0D,GAAC,IAAAC,EAAAC,EAAA,OAAa,OAARD,EAAC3D,EAAE6D,OAAKF,EAAI,QAAiB,OAAZC,EAAKF,EAAEG,OAAKD,EAAI,QAAU5D,EAAE8D,GAAKJ,EAAEI,EAAE,GAEhF,IAAMC,EAAS,IAAIC,IAAiBjB,EAASkB,IAAI,SAAC/C,GAAC,MAAK,CAACA,EAAE4C,KAAgB5C,EAAE,IAEvEgD,EAAUb,EACbY,IAAI,SAACE,GACJ,IAAMC,GAAQD,EAAEE,QAAU,IAAIJ,IAAI,SAACH,GAAE,OAAKC,EAAOvD,IAAIsD,EAAG,GAAEhB,OAAOwB,SACjE,MAAO,CAAEH,EAAAA,EAAGxB,KAAM4B,IAASH,GAC7B,GACCtB,OAAO,SAAC3B,GAAC,OAAKA,EAAEwB,KAAK6B,OAAS,CAAC,GAE5BC,EAAe,IAAIC,IACzBR,EAAQS,QAAQ,SAACxD,GAAC,OAAKA,EAAEwB,KAAKgC,QAAQ,SAACzD,GAAC,OAAKuD,EAAaG,IAAI1D,EAAE4C,KAAe,EAAC,GAEhF,IAAMe,EAAYN,IAASxB,EAASD,OAAO,SAAC5B,GAAC,OAAMuD,EAAaK,IAAI5D,EAAE4C,KAAe,IAGrF,IAAKI,EAAQM,SAAWK,EAAUL,OAChC,OAAAhD,EAAAb,UAAaqB,QAAOnB,KAAC,MAIvB,IAAMkE,EAAKzB,IAAAA,WAAe0B,MAAM,0DAEhC,OACE1C,EAAA,OAAK2C,UAAU,qBAEb3C,EAAA,OAAK2C,UAAU,wCACb3C,EAAA,SACE2C,UAAU,cACVC,YAAaH,EAEbI,MAAO/C,KAAKU,OAASV,KAAKU,SAAW,GAErCsC,QAAS,SAACjE,GAAM,OAAKgB,EAAKW,QAAUX,EAAKW,OAAO3B,EAAEkE,OAAOF,MAAM,IAGjE7C,EAAA,OAAK2C,UAAU,eAEZ7C,KAAKK,MAAM6C,gBAA+B,OAAjBrD,EAAIG,KAAKmD,WAALtD,EAAeuC,OAE3ClC,EAAA,UAAQ2C,UAAU,SAASO,QAAS,WAAF,OAAQrD,EAAKsD,aAAa,GACzDnC,IAAAA,WAAe0B,MAAM,qDAEtB,KAEJ1C,EAAA,UAAQ2C,UAAU,yBAAyBO,QAAS,WAAF,OAAQrD,EAAKuD,UAAU,GACtEpC,IAAAA,WAAe0B,MAAM,wDAM3Bd,EAAQD,IAAI,SAAA0B,GAAA,IAAGxB,EAACwB,EAADxB,EAAGxB,EAAIgD,EAAJhD,KAAI,OACrBL,EAAA,OAAK2C,UAAU,+BAA+B9E,IAAKgE,EAAEL,IACnDxB,EAAA,OAAK2C,UAAU,2BAA2Bd,EAAElB,MAC5CX,EAAA,MAAI2C,UAAU,wCAAwCtC,EAAKsB,IAAI,SAAC/C,GAAC,OAAKiB,EAAKyD,cAAc1E,EAAG4B,EAAO,IAC/F,GAIP+B,EAAUL,OACTlC,EAAA,OAAK2C,UAAU,6DACb3C,EAAA,OAAK2C,UAAU,2BACZ3B,IAAAA,WAAe0B,MAAM,4DAExB1C,EAAA,MAAI2C,UAAU,wCAAwCJ,EAAUZ,IAAI,SAAC/C,GAAC,OAAKiB,EAAKyD,cAAc1E,EAAG4B,EAAO,KAExG,KAGc,OAAjBZ,EAAAE,KAAKK,MAAMoD,SAAX3D,EAAmB4D,eAClBxD,EAAA,OAAK2C,UAAU,uCACb3C,EAAA,SAAO2C,UAAU,YAEf3C,EAAA,SAAOyD,KAAK,WAAWC,QAAS5D,KAAK6D,WAAYC,SAAU,WAAF,OAAS/D,EAAa8D,YAAe9D,EAAa8D,UAAU,IACpH3C,IAAAA,WAAe0B,MAAM,6DAGxB,KAGV,EAEAnD,EACQ+D,cAAR,SAAsB5C,EAAUF,GAAgB,IAAAqD,EAAA,KAExCC,EAAShE,KAAKiE,WAAarD,EAE3BuC,EAAWnD,KAAKmD,UAAYnD,KAAKmD,SAASnC,SAASJ,GAEzD,OACEV,EAAA,MACEnC,IAAK6C,EAAIc,KACT,aAAYd,EAAIc,KAChBmB,UAAWqB,IAAU,oBAAqB,CACxCC,OAA2B,OAAnBvD,EAAIwD,WACZC,QAASzD,EAAI0D,SACbC,UAAW3D,EAAI4D,QACfrB,SAAAA,EACAa,OAAAA,IAEFS,MAAO,CAAED,MAAO5D,EAAI4D,cAAWE,GAE/BC,YAAa,WAAF,OAASZ,EAAKE,SAAWrD,CAAG,EAEvCwC,QAAS,WAAF,OAAQW,EAAKa,UAAUhE,EAAI,GAEjCiE,IAAQjE,GACTV,EAAA,QAAM2C,UAAU,0BAA0BiC,IAAUlE,EAAIC,QAAU,GAAIH,IACrEE,EAAIE,cAAgBZ,EAAA,QAAM2C,UAAU,iCAAiCjC,EAAIE,eAAwB,KAGxG,EAAC3B,CAAA,CAnJ2C,CAAS4F,KENvD7D,IAAAA,aAAiBsB,IAFF,4BAEc,WAC3B,IAAMwC,EAAe9D,IAAAA,MAAU+D,KAAKhG,KAAKiC,IAAAA,OAGxCA,IAAAA,MAAkB+D,KAAO,SAAUC,EAAgB7E,GAQlD,QAPea,IAAAA,MAAUC,UAAU,kBAAoB,IAG5CiB,QAAW8C,IAAcH,KAAsBG,IAAcC,MACtED,EAAY/F,GAGP6F,EAAaE,EAAW7E,EACjC,GAGA+E,EAAAA,EAAAA,QAAOC,IAAoB,qBAAsB,SAAUC,EAAOC,GAC5DA,EAAWC,QAAUD,EAAWC,UAClCF,EAAM9C,IACJ,OACAtC,EAACuF,IAAM,CAACC,KAAK,aAAatC,QAAS,WAAF,OAAQlC,IAAAA,MAAU+D,KAAK9F,EAA2B,CAAEoG,WAAAA,GAAa,GAC/FrE,IAAAA,WAAe0B,MAAM,2DAExB,IAGN,EACF,E","sources":["webpack://lady-byron-tag-categories/webpack/bootstrap","webpack://lady-byron-tag-categories/webpack/runtime/compat get default export","webpack://lady-byron-tag-categories/webpack/runtime/define property getters","webpack://lady-byron-tag-categories/webpack/runtime/hasOwnProperty shorthand","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['forum/app']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['common/extend']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['common/components/Button']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['tags/forum/components/TagDiscussionModal']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['tags/forum/components/TagSelectionModal']\"","webpack://lady-byron-tag-categories/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['common/utils/classList']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['common/helpers/highlight']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['tags/common/helpers/tagIcon']\"","webpack://lady-byron-tag-categories/external root \"flarum.core.compat['tags/common/utils/sortTags']\"","webpack://lady-byron-tag-categories/./src/forum/components/GroupedTagDiscussionModal.tsx","webpack://lady-byron-tag-categories/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://lady-byron-tag-categories/./src/forum/index.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/forum/components/TagDiscussionModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/forum/components/TagSelectionModal'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/highlight'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/helpers/tagIcon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/utils/sortTags'];","import app from 'flarum/forum/app';\nimport classList from 'flarum/common/utils/classList';\nimport highlight from 'flarum/common/helpers/highlight';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nimport TagDiscussionModal, { type TagDiscussionModalAttrs } from 'flarum/tags/forum/components/TagDiscussionModal';\nimport tagIcon from 'flarum/tags/common/helpers/tagIcon';\nimport sortTags from 'flarum/tags/common/utils/sortTags';\nimport type Tag from 'flarum/tags/common/models/Tag';\n\ntype Vnode = Mithril.Vnode<TagDiscussionModalAttrs, GroupedTagDiscussionModal>;\n\ninterface ForumTagCategory {\n  id: number;\n  name: string;\n  slug: string | null;\n  order: number | null;\n  tagIds: number[];\n}\n\nexport default class GroupedTagDiscussionModal extends TagDiscussionModal<TagDiscussionModalAttrs> {\n  view(vnode: Vnode) {\n    // 保持父类的外层 view（会包含 Modal 的骨架并调用 content()）\n    return super.view(vnode);\n  }\n\n  content() {\n    // 父类在 tags 未就绪时会置 this.loading\n    // @ts-ignore\n    if (this.loading) return <LoadingIndicator />;\n\n    // ========== 1) 取得“可见可选”的标签集合 ==========\n    // 父类在 oninit 里会准备 this.tags（全部可选标签）\n    // 如果经由 TagSelectionModal 场景传递了 selectableTags() 则以那个为准\n    // @ts-ignore\n    const base: Tag[] = this.attrs.selectableTags ? this.attrs.selectableTags() : (this.tags as Tag[] | undefined) || [];\n    const canSelect = this.attrs.canSelect || (() => true);\n    const selectable = base.filter((t) => canSelect(t));\n\n    // 搜索关键字（父类维护的 Stream）\n    // @ts-ignore\n    const filter: string = (this.filter && this.filter()) || '';\n\n    const filtered: Tag[] = !filter\n      ? selectable\n      : selectable.filter((tag) => {\n          const text = `${tag.name() || ''} ${tag.description() || ''}`.toLowerCase();\n          return text.includes(filter.toLowerCase());\n        });\n\n    // ========== 2) 在“过滤后可见标签”里做分组 ==========\n    const categories: ForumTagCategory[] = ((app.forum.attribute('tagCategories') as ForumTagCategory[]) || []).slice();\n\n    // 排序：order 越小越靠前，然后按 id 兜底\n    categories.sort((a, b) => (a.order ?? 99999) - (b.order ?? 99999) || a.id - b.id);\n\n    const id2tag = new Map<number, Tag>(filtered.map((t) => [t.id() as number, t]));\n\n    const grouped = categories\n      .map((g) => {\n        const list = (g.tagIds || []).map((id) => id2tag.get(id)).filter(Boolean) as Tag[];\n        return { g, tags: sortTags(list) };\n      })\n      .filter((e) => e.tags.length > 0);\n\n    const groupedIdSet = new Set<number>();\n    grouped.forEach((e) => e.tags.forEach((t) => groupedIdSet.add(t.id() as number)));\n\n    const ungrouped = sortTags(filtered.filter((t) => !groupedIdSet.has(t.id() as number)));\n\n    // 如果没有任何分组且未分组为空，退回父类原始渲染\n    if (!grouped.length && !ungrouped.length) {\n      return super.content();\n    }\n\n    // ========== 3) 渲染（保持与原生 TagSelectionModal 接近的结构/类名） ==========\n    const ph = app.translator.trans('flarum-tags.lib.tag_selection_modal.search_placeholder');\n\n    return (\n      <div className=\"TagSelectionModal\">\n        {/* 工具栏：搜索 + 重置 + 提交 */}\n        <div className=\"Form-group TagSelectionModal-toolbar\">\n          <input\n            className=\"FormControl\"\n            placeholder={ph}\n            // @ts-ignore\n            value={this.filter ? this.filter() : ''}\n            // @ts-ignore\n            oninput={(e: any) => this.filter && this.filter(e.target.value)}\n          />\n\n          <div className=\"ButtonGroup\">\n            {/* @ts-ignore */}\n            {this.attrs.allowResetting && this.selected?.length ? (\n              // @ts-ignore\n              <button className=\"Button\" onclick={() => this.deselectAll()}>\n                {app.translator.trans('flarum-tags.lib.tag_selection_modal.reset_button')}\n              </button>\n            ) : null}\n\n            <button className=\"Button Button--primary\" onclick={() => this.onsubmit()}>\n              {app.translator.trans('flarum-tags.lib.tag_selection_modal.submit_button')}\n            </button>\n          </div>\n        </div>\n\n        {/* 各分类组 */}\n        {grouped.map(({ g, tags }) => (\n          <div className=\"Form-group lbtc-GroupSection\" key={g.id}>\n            <div className=\"lbtc-GroupSection-title\">{g.name}</div>\n            <ul className=\"TagSelectionModal-list SelectTagList\">{tags.map((t) => this.renderTagItem(t, filter))}</ul>\n          </div>\n        ))}\n\n        {/* 未分组 */}\n        {ungrouped.length ? (\n          <div className=\"Form-group lbtc-GroupSection lbtc-GroupSection--ungrouped\">\n            <div className=\"lbtc-GroupSection-title\">\n              {app.translator.trans('lady-byron-tag-categories.forum.tag_selection.ungrouped')}\n            </div>\n            <ul className=\"TagSelectionModal-list SelectTagList\">{ungrouped.map((t) => this.renderTagItem(t, filter))}</ul>\n          </div>\n        ) : null}\n\n        {/* 允许越过限制的开关（与原生一致） */}\n        {this.attrs.limits?.allowBypassing ? (\n          <div className=\"Form-group TagSelectionModal-bypass\">\n            <label className=\"checkbox\">\n              {/* @ts-ignore */}\n              <input type=\"checkbox\" checked={this.bypassReqs} onchange={() => (this as any).bypassReqs = !(this as any).bypassReqs} />\n              {app.translator.trans('flarum-tags.lib.tag_selection_modal.bypass_requirements')}\n            </label>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  /** 单个标签项（保持原生类名与交互，继承父类的切换/键盘导航逻辑） */\n  private renderTagItem(tag: Tag, filter: string) {\n    // @ts-ignore\n    const active = this.indexTag === tag;\n    // @ts-ignore\n    const selected = this.selected && this.selected.includes(tag);\n\n    return (\n      <li\n        key={tag.id()}\n        data-index={tag.id()}\n        className={classList('SelectTagListItem', {\n          pinned: tag.position() !== null,\n          child: !!tag.parent(),\n          colored: !!tag.color(),\n          selected,\n          active,\n        })}\n        style={{ color: tag.color() || undefined }}\n        // @ts-ignore\n        onmouseover={() => (this.indexTag = tag)}\n        // @ts-ignore\n        onclick={() => this.toggleTag(tag)}\n      >\n        {tagIcon(tag)}\n        <span className=\"SelectTagListItem-name\">{highlight(tag.name() || '', filter)}</span>\n        {tag.description() ? <span className=\"SelectTagListItem-description\">{tag.description()}</span> : null}\n      </li>\n    );\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Button from 'flarum/common/components/Button';\n\n// 原生弹窗\nimport TagDiscussionModal from 'flarum/tags/forum/components/TagDiscussionModal';\nimport TagSelectionModal from 'flarum/tags/forum/components/TagSelectionModal';\n\n// 我们的分组版弹窗（同时兼容“编辑已有讨论”和“新建时选择”两种场景）\nimport GroupedTagDiscussionModal from './components/GroupedTagDiscussionModal';\n\nconst EXT_ID = 'lady-byron/tag-categories';\n\napp.initializers.add(EXT_ID, () => {\n  const originalShow = app.modal.show.bind(app.modal);\n\n  // ✅ 统一在 show 入口替换，不在 oninit 里做切换，避免 Nested m.redraw.sync\n  (app.modal as any).show = function (component: any, attrs: any) {\n    const groups = app.forum.attribute('tagCategories') || [];\n\n    // 仅当站点存在分类组时才替换，保持无分组时沿用原生体验\n    if (groups.length && (component === TagDiscussionModal || component === TagSelectionModal)) {\n      component = GroupedTagDiscussionModal;\n    }\n\n    return originalShow(component, attrs);\n  };\n\n  // 兜底：讨论页“编辑标签”按钮也强制打开分组版\n  extend(DiscussionControls, 'moderationControls', function (items, discussion) {\n    if (discussion.canTag && discussion.canTag()) {\n      items.add(\n        'tags',\n        <Button icon=\"fas fa-tag\" onclick={() => app.modal.show(GroupedTagDiscussionModal, { discussion })}>\n          {app.translator.trans('flarum-tags.forum.discussion_controls.edit_tags_button')}\n        </Button>,\n        100\n      );\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","GroupedTagDiscussionModal","_TagDiscussionModal","apply","arguments","create","constructor","_proto","view","vnode","content","_this$selected","_this$attrs$limits","_this","this","loading","m","LoadingIndicator","base","attrs","selectableTags","tags","canSelect","selectable","filter","filtered","tag","name","description","toLowerCase","includes","categories","app","attribute","slice","sort","b","_a$order","_b$order","order","id","id2tag","Map","map","grouped","g","list","tagIds","Boolean","sortTags","length","groupedIdSet","Set","forEach","add","ungrouped","has","ph","trans","className","placeholder","value","oninput","target","allowResetting","selected","onclick","deselectAll","onsubmit","_ref","renderTagItem","limits","allowBypassing","type","checked","bypassReqs","onchange","_this2","active","indexTag","classList","pinned","position","child","parent","colored","color","style","undefined","onmouseover","toggleTag","tagIcon","highlight","TagDiscussionModal","originalShow","show","component","TagSelectionModal","extend","DiscussionControls","items","discussion","canTag","Button","icon"],"sourceRoot":""}